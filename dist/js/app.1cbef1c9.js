(function(){"use strict";var t={1032:function(t,o,a){var e=a(6848),r=function(){var t=this,o=t._self._c;return o("div",{attrs:{id:"app"}},[o("Header"),o("router-view")],1)},i=[],n=function(){var t=this,o=t._self._c;return o("nav",{staticClass:"header-bar"},[o("div",{staticClass:"header-content"},[o("div",{staticClass:"left"},[o("router-link",{staticClass:"brand",attrs:{to:"/"}},[t._v("ðŸ“° "),o("strong",[t._v("The Article")])]),o("router-link",{staticClass:"link",attrs:{to:"/"}},[t._v("InÃ­cio")]),o("router-link",{staticClass:"link",attrs:{to:"/sobre"}},[t._v("Sobre")])],1),o("button",{staticClass:"btn-theme",on:{click:t.alternarTema}},[t._v(" "+t._s("dark"===t.tema?"ðŸŒž Claro":"ðŸŒ™ Escuro")+" ")])])])},s=[],c={data(){return{tema:localStorage.getItem("tema")||"light"}},mounted(){document.documentElement.setAttribute("data-theme",this.tema)},methods:{alternarTema(){this.tema="dark"===this.tema?"light":"dark",document.documentElement.setAttribute("data-theme",this.tema),localStorage.setItem("tema",this.tema)}}},l=c,u=a(1656),d=(0,u.A)(l,n,s,!1,null,"5a8f25f2",null),m=d.exports,g={components:{Header:m}},v=g,f=(0,u.A)(v,r,i,!1,null,null,null),p=f.exports,h=a(6178),b=(a(8111),a(1701),function(){var t=this,o=t._self._c;return o("div",{staticClass:"container mt-4"},[o("div",{staticClass:"d-flex justify-content-between align-items-center mb-3"},[o("h1",[t._v("The Article ðŸ“°")]),o("router-link",{staticClass:"btn btn-success",attrs:{to:"/criar"}},[t._v("+ Criar Artigo")])],1),o("div",{staticClass:"mb-3 d-flex",staticStyle:{gap:".5rem"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.busca,expression:"busca"}],staticClass:"form-control",attrs:{placeholder:"Buscar por tÃ­tulo..."},domProps:{value:t.busca},on:{input:function(o){o.target.composing||(t.busca=o.target.value)}}}),o("select",{directives:[{name:"model",rawName:"v-model",value:t.categoriaSelecionada,expression:"categoriaSelecionada"}],staticClass:"form-control",staticStyle:{"max-width":"220px"},on:{change:function(o){var a=Array.prototype.filter.call(o.target.options,function(t){return t.selected}).map(function(t){var o="_value"in t?t._value:t.value;return o});t.categoriaSelecionada=o.target.multiple?a:a[0]}}},[o("option",{attrs:{value:""}},[t._v("Todas as categorias")]),t._l(t.categoriasUnicas,function(a){return o("option",{key:a,domProps:{value:a}},[t._v(t._s(a))])})],2),o("select",{directives:[{name:"model",rawName:"v-model",value:t.ordenacao,expression:"ordenacao"}],staticClass:"form-control",staticStyle:{"max-width":"180px"},on:{change:function(o){var a=Array.prototype.filter.call(o.target.options,function(t){return t.selected}).map(function(t){var o="_value"in t?t._value:t.value;return o});t.ordenacao=o.target.multiple?a:a[0]}}},[o("option",{attrs:{value:"recentes"}},[t._v("Mais recentes")]),o("option",{attrs:{value:"antigos"}},[t._v("Mais antigos")]),o("option",{attrs:{value:"titulo"}},[t._v("Por tÃ­tulo (Aâ€“Z)")])])]),t.loading?o("div",{staticClass:"text-center"},[t._v("Carregando...")]):o("div",t._l(t.artigosFiltrados,function(a){return o("article",{key:a.id,staticClass:"artigo",on:{click:function(o){return t.abrirArtigo(a.id)}}},[o("h2",{staticClass:"mb-1"},[t._v(t._s(a.titulo))]),o("small",{staticClass:"text-muted d-block mb-2"},[t._v(" ðŸ·ï¸ "+t._s(a.categoria||"geral")+" â€¢ ðŸ“… "+t._s(t.formatDate(a.dataPublicacao))+" ")]),o("p",[t._v(t._s(t.primeiroParagrafo(a)))]),o("small",{staticClass:"text-muted"},[t._v("ðŸ‘ï¸ "+t._s(a.views||0)+" â€¢ â¤ï¸ "+t._s(a.likes||0))])])}),0)])}),_=[],C=(a(4114),a(2489),a(7642),a(8004),a(3853),a(5876),a(2475),a(5024),a(1698),{data(){return{artigos:[],loading:!0,busca:"",categoriaSelecionada:"",ordenacao:"recentes"}},async created(){try{const t=await fetch("/api/artigos");this.artigos=await t.json()}catch(t){console.error("Erro ao buscar artigos:",t)}finally{this.loading=!1}},computed:{categoriasUnicas(){const t=new Set(this.artigos.map(t=>t.categoria||"geral"));return Array.from(t).sort((t,o)=>t.localeCompare(o))},artigosFiltrados(){let t=this.artigos.slice();if(this.categoriaSelecionada){const o=this.categoriaSelecionada.toLowerCase();t=t.filter(t=>(t.categoria||"").toLowerCase()===o)}if(this.busca){const o=this.busca.toLowerCase();t=t.filter(t=>t.titulo.toLowerCase().includes(o))}return"titulo"===this.ordenacao?t.sort((t,o)=>t.titulo.localeCompare(o.titulo)):"antigos"===this.ordenacao?t.sort((t,o)=>new Date(t.dataPublicacao||0)-new Date(o.dataPublicacao||0)):t.sort((t,o)=>new Date(o.dataPublicacao||0)-new Date(t.dataPublicacao||0)),t}},methods:{abrirArtigo(t){const o=`/article/${t}`;this.$route.path!==o&&this.$router.push(o)},primeiroParagrafo(t){const o=t.conteudo&&t.conteudo[0]||"";return o.length>140?o.substring(0,140)+"...":o},formatDate(t){if(!t)return"sem data";const o=new Date(t);return isNaN(o)?t:o.toLocaleDateString("pt-BR")}}}),y=C,w=(0,u.A)(y,b,_,!1,null,"a7e7a5f6",null),x=w.exports,A=function(){var t=this,o=t._self._c;return o("div",{staticClass:"container mt-5"},[o("router-link",{staticClass:"btn btn-secondary mb-3",attrs:{to:"/"}},[t._v("â† Voltar")]),t.loading?o("div",[t._v("Carregando artigo...")]):t.artigo?o("div",[o("h1",[t._v(t._s(t.artigo.titulo))]),o("p",{staticClass:"text-muted"},[t._v(" ðŸ·ï¸ "+t._s(t.artigo.categoria||"geral")+" â€¢ ðŸ“… "+t._s(t.formatDate(t.artigo.dataPublicacao))+" â€¢ ðŸ‘ï¸ "+t._s(t.artigo.views||0)+" â€¢ â¤ï¸ "+t._s(t.artigo.likes||0)+" ")]),o("div",{staticClass:"mb-3"},[o("button",{staticClass:"btn btn-warning mr-2",on:{click:t.editarArtigo}},[t._v("âœï¸ Editar")]),o("button",{staticClass:"btn btn-danger mr-2",on:{click:t.deletarArtigo}},[t._v("ðŸ—‘ï¸ Deletar")]),o("button",{staticClass:"btn btn-success mr-2",on:{click:t.curtirArtigo}},[t._v("ðŸ‘ Curtir")]),o("button",{staticClass:"btn btn-info",on:{click:t.exportarPDF}},[t._v("ðŸ“„ Exportar PDF")])]),t._l(t.artigo.conteudo,function(a,e){return o("div",{key:e,staticClass:"paragrafo"},[o("p",[t._v(t._s(a))])])}),o("div",{staticClass:"mt-5"},[o("h3",[t._v("ðŸ’¬ ComentÃ¡rios")]),t.artigo.comentarios&&t.artigo.comentarios.length?o("div",t._l(t.artigo.comentarios,function(a,e){return o("div",{key:e,staticClass:"comentario border-bottom pb-2 mb-2"},[o("p",[o("strong",[t._v(t._s(a.autor))]),t._v(" â€” "),o("small",[t._v(t._s(a.data))])]),o("p",[t._v(t._s(a.texto))])])}),0):o("div",{staticClass:"text-muted"},[t._v("Ainda nÃ£o hÃ¡ comentÃ¡rios.")]),o("div",{staticClass:"mt-3"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.novoComentario,expression:"novoComentario"}],staticClass:"form-control mb-2",attrs:{placeholder:"Escreva um comentÃ¡rio..."},domProps:{value:t.novoComentario},on:{input:function(o){o.target.composing||(t.novoComentario=o.target.value)}}}),o("button",{staticClass:"btn btn-primary",on:{click:t.enviarComentario}},[t._v("Enviar")])])])],2):o("div",[o("p",[t._v("Artigo nÃ£o encontrado.")])])],1)},k=[],P=(a(7588),a(597)),E={props:["id"],data(){return{artigo:null,loading:!0,novoComentario:""}},async created(){try{const t=await fetch(`/api/artigos/${this.id}`);this.artigo=await t.json()}catch(t){console.error("Erro ao carregar artigo:",t)}finally{this.loading=!1}},methods:{editarArtigo(){this.$router.push(`/editar/${this.id}`)},async deletarArtigo(){if(confirm("Tem certeza que deseja deletar este artigo? ðŸ˜¢"))try{const t=await fetch(`/api/artigos/${this.id}`,{method:"DELETE"}),o=await t.json();alert(o.mensagem||"Artigo deletado com sucesso!"),this.$router.push("/")}catch(t){console.error("Erro ao deletar artigo:",t)}},async curtirArtigo(){try{const t=await fetch(`/api/artigos/${this.id}/like`,{method:"PUT"}),o=await t.json();this.artigo.likes=o.totalLikes}catch(t){console.error("Erro ao curtir artigo:",t)}},async enviarComentario(){if(this.novoComentario.trim())try{const t=await fetch(`/api/artigos/${this.id}/comentarios`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({autor:"Visitante",texto:this.novoComentario})});console.log("opa foi");const o=await t.json();this.artigo.comentarios.push(o.comentario),this.novoComentario="",console.log(this.artigo.comentarios)}catch(t){console.error("Erro ao enviar comentÃ¡rio:",t)}},exportarPDF(){const t=new P.Ay;t.setFontSize(18),t.text(this.artigo.titulo,10,20),t.setFontSize(12);let o=30;this.artigo.conteudo.forEach(a=>{const e=t.splitTextToSize(a,180);t.text(e,10,o),o+=8*e.length}),t.save(`${this.artigo.titulo}.pdf`)},formatDate(t){if(!t)return"sem data";const o=new Date(t);return isNaN(o)?t:o.toLocaleDateString("pt-BR")}}},j=E,S=(0,u.A)(j,A,k,!1,null,"75d49b56",null),O=S.exports,T=function(){var t=this,o=t._self._c;return o("div",{staticClass:"container mt-5"},[o("h1",[t._v(t._s(t.sobre.titulo))]),t.loading?o("div",[t._v("Carregando...")]):o("div",t._l(t.sobre.paragrafos,function(a,e){return o("p",{key:e,staticClass:"mt-3"},[t._v(" "+t._s(a)+" ")])}),0)])},N=[],D={name:"SobreView",data(){return{sobre:{titulo:"",paragrafos:[]},loading:!0}},async created(){try{const t=await fetch("/api/artigos/info/sobre");this.sobre=await t.json()}catch(t){console.error("Erro ao carregar informaÃ§Ãµes:",t)}finally{this.loading=!1}}},$=D,L=(0,u.A)($,T,N,!1,null,"2dcc0e97",null),F=L.exports,z=function(){var t=this,o=t._self._c;return o("div",{staticClass:"container mt-5"},[o("h1",[t._v("Criar Novo Artigo âœï¸")]),o("div",{staticClass:"form-group mt-4"},[o("label",{attrs:{for:"titulo"}},[t._v("TÃ­tulo")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.titulo,expression:"titulo"}],staticClass:"form-control",attrs:{type:"text",id:"titulo",placeholder:"Digite o tÃ­tulo do artigo"},domProps:{value:t.titulo},on:{input:function(o){o.target.composing||(t.titulo=o.target.value)}}})]),o("div",{staticClass:"form-group mt-3"},[o("label",{attrs:{for:"categoria"}},[t._v("Categoria")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.categoria,expression:"categoria"}],staticClass:"form-control",attrs:{id:"categoria",placeholder:"Ex: ciÃªncia, tecnologia..."},domProps:{value:t.categoria},on:{input:function(o){o.target.composing||(t.categoria=o.target.value)}}})]),o("div",{staticClass:"form-group mt-3"},[o("label",{attrs:{for:"conteudo"}},[t._v("ConteÃºdo")]),o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.conteudo,expression:"conteudo"}],staticClass:"form-control",attrs:{id:"conteudo",rows:"10",placeholder:"Escreva o artigo aqui. Use ENTER para pular linhas e separar parÃ¡grafos."},domProps:{value:t.conteudo},on:{input:function(o){o.target.composing||(t.conteudo=o.target.value)}}})]),o("button",{staticClass:"btn btn-primary mt-3",on:{click:t.criarArtigo}},[t._v("Salvar Artigo")]),o("router-link",{staticClass:"btn btn-secondary mt-3 ml-2",attrs:{to:"/"}},[t._v("â† Voltar")]),t.mensagem?o("div",{staticClass:"alert alert-info mt-3"},[t._v(" "+t._s(t.mensagem)+" ")]):t._e()],1)},M=[],V={data(){return{titulo:"",conteudo:"",mensagem:"",categoria:""}},methods:{async criarArtigo(){if(this.titulo&&this.conteudo)try{const t=await fetch("/api/artigos",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({titulo:this.titulo,conteudo:this.conteudo,categoria:this.categoria||"geral"})}),o=await t.json();this.mensagem=o.mensagem||"Artigo criado com sucesso!",this.titulo="",this.conteudo=""}catch(t){console.error("Erro ao criar artigo:",t),this.mensagem="Erro ao criar o artigo. Verifique o servidor."}else this.mensagem="Preencha o tÃ­tulo e o conteÃºdo antes de salvar."}}},U=V,q=(0,u.A)(U,z,M,!1,null,null,null),B=q.exports,I=function(){var t=this,o=t._self._c;return o("div",{staticClass:"container mt-5"},[o("h1",[t._v("Editar Artigo âœï¸")]),t.loading?o("div",[t._v("Carregando artigo...")]):o("div",[o("div",{staticClass:"form-group mt-4"},[o("label",{attrs:{for:"titulo"}},[t._v("TÃ­tulo")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.titulo,expression:"titulo"}],staticClass:"form-control",attrs:{type:"text",id:"titulo"},domProps:{value:t.titulo},on:{input:function(o){o.target.composing||(t.titulo=o.target.value)}}})]),o("div",{staticClass:"form-group mt-3"},[o("label",{attrs:{for:"categoria"}},[t._v("Categoria")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.categoria,expression:"categoria"}],staticClass:"form-control",attrs:{id:"categoria"},domProps:{value:t.categoria},on:{input:function(o){o.target.composing||(t.categoria=o.target.value)}}})]),o("div",{staticClass:"form-group mt-3"},[o("label",{attrs:{for:"conteudo"}},[t._v("ConteÃºdo")]),o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.conteudo,expression:"conteudo"}],staticClass:"form-control",attrs:{id:"conteudo",rows:"10"},domProps:{value:t.conteudo},on:{input:function(o){o.target.composing||(t.conteudo=o.target.value)}}})]),o("button",{staticClass:"btn btn-primary mt-3",on:{click:t.salvarAlteracoes}},[t._v("ðŸ’¾ Salvar")]),o("router-link",{staticClass:"btn btn-secondary mt-3 ml-2",attrs:{to:"/"}},[t._v("â† Voltar")]),t.mensagem?o("div",{staticClass:"alert alert-info mt-3"},[t._v(" "+t._s(t.mensagem)+" ")]):t._e()],1)])},J=[],R={props:["id"],data(){return{titulo:"",conteudo:"",mensagem:"",loading:!0,categoria:""}},async created(){try{const t=await fetch(`/api/artigos/${this.id}`),o=await t.json();this.titulo=o.titulo,this.conteudo=o.conteudo.join("\n\n")}catch(t){console.error("Erro ao carregar artigo:",t)}finally{this.loading=!1}},methods:{async salvarAlteracoes(){try{const t=await fetch(`/api/artigos/${this.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({titulo:this.titulo,conteudo:this.conteudo,categoria:this.categoria})}),o=await t.json();this.mensagem=o.mensagem||"Artigo atualizado com sucesso!"}catch(t){console.error("Erro ao atualizar artigo:",t),this.mensagem="Erro ao atualizar o artigo."}}}},H=R,Z=(0,u.A)(H,I,J,!1,null,"7d203657",null),G=Z.exports;e.Ay.use(h.Ay);const K=[{path:"/",name:"lista",component:x},{path:"/article/:id",name:"article",component:O,props:!0},{path:"/sobre",name:"sobre",component:F},{path:"/criar",name:"criar",component:B},{path:"/editar/:id",name:"editar",component:G,props:!0}],Q=new h.Ay({mode:"hash",routes:K});var W=Q;a(8077);e.Ay.config.productionTip=!1,new e.Ay({router:W,render:t=>t(p)}).$mount("#app")}},o={};function a(e){var r=o[e];if(void 0!==r)return r.exports;var i=o[e]={exports:{}};return t[e].call(i.exports,i,i.exports,a),i.exports}a.m=t,function(){var t=[];a.O=function(o,e,r,i){if(!e){var n=1/0;for(u=0;u<t.length;u++){e=t[u][0],r=t[u][1],i=t[u][2];for(var s=!0,c=0;c<e.length;c++)(!1&i||n>=i)&&Object.keys(a.O).every(function(t){return a.O[t](e[c])})?e.splice(c--,1):(s=!1,i<n&&(n=i));if(s){t.splice(u--,1);var l=r();void 0!==l&&(o=l)}}return o}i=i||0;for(var u=t.length;u>0&&t[u-1][2]>i;u--)t[u]=t[u-1];t[u]=[e,r,i]}}(),function(){a.n=function(t){var o=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(o,{a:o}),o}}(),function(){var t,o=Object.getPrototypeOf?function(t){return Object.getPrototypeOf(t)}:function(t){return t.__proto__};a.t=function(e,r){if(1&r&&(e=this(e)),8&r)return e;if("object"===typeof e&&e){if(4&r&&e.__esModule)return e;if(16&r&&"function"===typeof e.then)return e}var i=Object.create(null);a.r(i);var n={};t=t||[null,o({}),o([]),o(o)];for(var s=2&r&&e;("object"==typeof s||"function"==typeof s)&&!~t.indexOf(s);s=o(s))Object.getOwnPropertyNames(s).forEach(function(t){n[t]=function(){return e[t]}});return n["default"]=function(){return e},a.d(i,n),i}}(),function(){a.d=function(t,o){for(var e in o)a.o(o,e)&&!a.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:o[e]})}}(),function(){a.f={},a.e=function(t){return Promise.all(Object.keys(a.f).reduce(function(o,e){return a.f[e](t,o),o},[]))}}(),function(){a.u=function(t){return"js/"+t+"."+{125:"ef69b1be",234:"494a38e8",353:"a06e74d1"}[t]+".js"}}(),function(){a.miniCssF=function(t){}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)}}(),function(){var t={},o="frontend-vue:";a.l=function(e,r,i,n){if(t[e])t[e].push(r);else{var s,c;if(void 0!==i)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==o+i){s=d;break}}s||(c=!0,s=document.createElement("script"),s.charset="utf-8",a.nc&&s.setAttribute("nonce",a.nc),s.setAttribute("data-webpack",o+i),s.src=e),t[e]=[r];var m=function(o,a){s.onerror=s.onload=null,clearTimeout(g);var r=t[e];if(delete t[e],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach(function(t){return t(a)}),o)return o(a)},g=setTimeout(m.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=m.bind(null,s.onerror),s.onload=m.bind(null,s.onload),c&&document.head.appendChild(s)}}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){var t={524:0};a.f.j=function(o,e){var r=a.o(t,o)?t[o]:void 0;if(0!==r)if(r)e.push(r[2]);else{var i=new Promise(function(a,e){r=t[o]=[a,e]});e.push(r[2]=i);var n=a.p+a.u(o),s=new Error,c=function(e){if(a.o(t,o)&&(r=t[o],0!==r&&(t[o]=void 0),r)){var i=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src;s.message="Loading chunk "+o+" failed.\n("+i+": "+n+")",s.name="ChunkLoadError",s.type=i,s.request=n,r[1](s)}};a.l(n,c,"chunk-"+o,o)}},a.O.j=function(o){return 0===t[o]};var o=function(o,e){var r,i,n=e[0],s=e[1],c=e[2],l=0;if(n.some(function(o){return 0!==t[o]})){for(r in s)a.o(s,r)&&(a.m[r]=s[r]);if(c)var u=c(a)}for(o&&o(e);l<n.length;l++)i=n[l],a.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return a.O(u)},e=self["webpackChunkfrontend_vue"]=self["webpackChunkfrontend_vue"]||[];e.forEach(o.bind(null,0)),e.push=o.bind(null,e.push.bind(e))}();var e=a.O(void 0,[504],function(){return a(1032)});e=a.O(e)})();
//# sourceMappingURL=app.1cbef1c9.js.map